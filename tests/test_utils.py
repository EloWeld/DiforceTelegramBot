
from handlers.req import search_objects
from utils import format_phone_number, split_message_by_new_line


def test_format_phone_number():
    phoneNumber = "89620788985"
    d = format_phone_number(phoneNumber)
    assert d == "+79620788985"
    
    
def test_split_message_by_new_line():
    text = """‚≠êÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Weloxd (@CoderPF) –°–¥–µ–ª–∞–ª –∑–∞–∫–∞–∑!

üë§ –§–ò–û: –î–æ–º –ë—ã—Ç–∞ (–ú–∏—Ä–∞ 60)
üìßüìû Email/–¢–µ–ª.: //+79620788985
üè∑Ô∏èüí≤ –¢–∏–ø —Ü–µ–Ω: –î–ò–§–û–†–° –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å
üì¶ –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞: –¶–ë000000462

üìã –°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:
1 —à—Ç * 270‚ÇΩ = 270‚ÇΩ | 00000000770 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –≤–æ–∑–¥—É—Ö–æ–≤–æ–¥ Hoco CPH01, —á–µ—Ä–Ω—ã–π

1 —à—Ç * 1300‚ÇΩ = 1300‚ÇΩ | DI000001473 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –º–∞–≥–Ω–∏—Ç–Ω—ã–π –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ Hoco CA42, –Ω–∞ –ø—Ä–∏—Å–æ—Å–∫–µ, —á–µ—Ä–Ω—ã–π

1 —à—Ç * 850‚ÇΩ = 850‚ÇΩ | 00000000745 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –º–∞–≥–Ω–∏—Ç–Ω—ã–π –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ Hoco CA23, –≤ –≤–æ–∑–¥—É—Ö–æ–≤–æ–¥, —á–µ—Ä–Ω—ã–π

1 —à—Ç * 590‚ÇΩ = 590‚ÇΩ | 00000000744 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –º–∞–≥–Ω–∏—Ç–Ω—ã–π –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ Hoco CA24, –Ω–∞ —Å–∫–æ—Ç—á–µ, —á–µ—Ä–Ω—ã–π

1 —à—Ç * 990‚ÇΩ = 990‚ÇΩ | 00000000742 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ Hoco CA26, —á–µ—Ä–Ω—ã–π

1 —à—Ç * 990‚ÇΩ = 990‚ÇΩ | 00000000741 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –º–∞–≥–Ω–∏—Ç–Ω—ã–π –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ Hoco CA28, –Ω–∞ –ø—Ä–∏—Å–æ—Å–∫–µ, —á–µ—Ä–Ω—ã–π

1 —à—Ç * 1190‚ÇΩ = 1190‚ÇΩ | DI000004929 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–∞/—Ç–µ–ª–µ—Ñ–æ–Ω–∞ Borofone BH24, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π, (4"-10.5") –±–µ–ª—ã–π

1 —à—Ç * 990‚ÇΩ = 990‚ÇΩ | DI000003331 | –î–µ—Ä–∂–∞—Ç–µ–ª—å¬†–¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞/–ø–ª–∞–Ω—à–µ—Ç–∞ Hoco PH30, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π, (4.7-10") –±–µ–ª—ã–π

1 —à—Ç * 390‚ÇΩ = 390‚ÇΩ | –¶–ë000009068 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–∞/—Ç–µ–ª–µ—Ñ–æ–Ω–∞ XO C73, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π, –±–µ–ª—ã–π

1 —à—Ç * 750‚ÇΩ = 750‚ÇΩ | –¶–ë000009066 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–∞/—Ç–µ–ª–µ—Ñ–æ–Ω–∞ XO C46A, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π, –±–µ–ª—ã–π

1 —à—Ç * 750‚ÇΩ = 750‚ÇΩ | –¶–ë000009064 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–∞/—Ç–µ–ª–µ—Ñ–æ–Ω–∞ XO C116, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π, –±–µ–ª—ã–π

1 —à—Ç * 1390‚ÇΩ = 1390‚ÇΩ | DI000004153 | –î–µ—Ä–∂–∞—Ç–µ–ª—å —Å –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–π –∑–∞—Ä—è–¥–∫–æ–π XO WX021 (10w) –±–µ–ª—ã–π

1 —à—Ç * 990‚ÇΩ = 990‚ÇΩ | DI000003057 | –î–µ—Ä–∂–∞—Ç–µ–ª—å¬†–¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ Hoco PH28, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π, (4.7-7") –±–µ–ª—ã–π

1 —à—Ç * 290‚ÇΩ = 290‚ÇΩ | DI000004942 | –î–µ—Ä–∂–∞—Ç–µ–ª—å XO C8, –≤ –≤–æ–∑–¥—É—Ö–æ–≤–æ–¥ —Ü–≤–µ—Ç –±–µ–ª—ã–π

1 —à—Ç * 270‚ÇΩ = 270‚ÇΩ | 00000000771 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –≤–æ–∑–¥—É—Ö–æ–≤–æ–¥ Hoco CPH01, –±–µ–ª—ã–π

1 —à—Ç * 250‚ÇΩ = 250‚ÇΩ | DI000004939 | –î–µ—Ä–∂–∞—Ç–µ–ª—å-–ø–æ–¥—Å—Ç–∞–≤–∫–∞ XO C68, –Ω–∞ —Å–∫–æ—Ç—á–µ –±–µ–ª—ã–π

1 —à—Ç * 2790‚ÇΩ = 2790‚ÇΩ | DI000004607 | –ù–∞—Å—Ç–æ–ª—å–Ω—ã–π –¥–µ—Ä–∂—Ç–µ–ª—å —Å –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–π –∑–∞—Ä—è–¥–∫–æ–π Hoco CW32 –±–µ–ª—ã–π

1 —à—Ç * 1490‚ÇΩ = 1490‚ÇΩ | DI000003276 | –î–µ—Ä–∂–∞—Ç–µ–ª—å –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–∞/—Ç–µ–ª–µ—Ñ–æ–Ω–∞ Hoco PH31, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π,(4.7-10") –±–µ–ª—ã–π

–û–±—â–∞—è —Å—É–º–º–∞: 16 530‚ÇΩ

üö© –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏: None
üö© –°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏: üöó –°–∞–º–æ–≤—ã–≤–æ–∑
üö© –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí∞ –ù–∞–ª–∏—á–Ω—ã–µ"""
    parts = split_message_by_new_line(text, 400)
    print(parts)
    assert len(parts) == 300